<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - IBADEJUF</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in-up': 'fadeInUp 0.6s ease-out forwards',
                        'scale-in': 'scaleIn 0.3s ease-out forwards',
                        'pulse-soft': 'pulseSoft 2s ease-in-out infinite'
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes scaleIn {
            from {
                transform: scale(0.9);
            }
            to {
                transform: scale(1);
            }
        }

        @keyframes pulseSoft {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }
        
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .stat-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 overflow-x-hidden">
    <!-- Mobile Menu Button -->
    <button id="mobile-menu-btn" class="md:hidden fixed top-4 left-4 z-60 bg-white p-2 rounded-lg shadow-lg border border-gray-200">
        <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
    </button>

    <!-- Overlay for mobile -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden md:hidden"></div>

    <!-- Sidebar -->
    <div id="sidebar" class="fixed left-0 top-0 h-full w-64 bg-white shadow-2xl z-50 border-r border-gray-200 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out">
        <!-- Logo Section -->
        <div class="p-6 border-b border-gray-100">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg">
                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M5,3H7V5H21V7H7V9H19V11H7V13H21V15H7V17H19V19H7V21H5V3M3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3H5A2,2 0 0,0 3,5Z"/>
                    </svg>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-blue-600">IBADEJUF</h1>
                    <p class="text-xs text-gray-500">Instituto Bíblico</p>
                </div>
            </div>
        </div>

        <!-- Navigation Menu -->
        <nav class="p-4 space-y-2">
            <!-- Principal -->
            <a href="#" class="flex items-center space-x-3 p-3 rounded-lg bg-blue-50 text-blue-600 border border-blue-100 shadow-sm">
                <div class="w-5 h-5 text-blue-500">
                    <svg fill="currentColor" viewBox="0 0 24 24">
                        <path d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"/>
                    </svg>
                </div>
                <span class="font-medium">Principal</span>
            </a>

            <!-- Matérias -->
            <a href="#" class="flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
                <div class="w-5 h-5 text-gray-400 group-hover:text-blue-500 transition-colors">
                    <svg fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M19 19H5V5H19V19M17 17H7V15H17V17M17 13H7V11H17V13M17 9H7V7H17V9Z"/>
                    </svg>
                </div>
                <span class="font-medium">Matérias</span>
            </a>

            <!-- Dados Pessoais -->
            <a href="#" class="flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 group">
                <div class="w-5 h-5 text-gray-400 group-hover:text-blue-500 transition-colors">
                    <svg fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"/>
                    </svg>
                </div>
                <span class="font-medium">Dados Pessoais</span>
            </a>

            <!-- Sair -->
            <a href="#" class="flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:bg-red-50 hover:text-red-600 transition-all duration-200 group">
                <div class="w-5 h-5 text-gray-400 group-hover:text-red-500 transition-colors">
                    <svg fill="currentColor" viewBox="0 0 24 24">
                        <path d="M16,17V14H9V10H16V7L21,12L16,17M14,2A2,2 0 0,1 16,4V6H14V4H5V20H14V18H16V20A2,2 0 0,1 14,22H5A2,2 0 0,1 3,20V4A2,2 0 0,1 5,2H14Z"/>
                    </svg>
                </div>
                <span class="font-medium">Sair</span>
            </a>
        </nav>

        <!-- User Info at Bottom -->
        <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-gray-100 bg-gray-50">
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                    IB
                </div>
                <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-900 truncate"><%= user %></p>
                    <p class="text-xs text-gray-500">Estudante</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="md:ml-64 flex-1 px-4 md:px-6 py-12 pt-20 md:pt-12 overflow-x-hidden">
        <!-- Header Section -->
        <div class="text-center mb-12 md:mb-16 animate-fade-in-up max-w-full">
            <div class="flex items-center justify-center mb-4">
                <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg mr-4 animate-pulse-soft">
                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"/>
                    </svg>
                </div>
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent">
                    Bem-vindo ao IBADEJUF
                </h1>
            </div>
            <p class="text-gray-600 text-base md:text-lg max-w-2xl mx-auto px-4">
                Olá <strong><%= user %></strong>! Seja bem-vindo ao seu painel de estudos. Aqui você pode acompanhar seu progresso e acessar todas as ferramentas necessárias para sua jornada acadêmica.
            </p>
            <div class="w-16 md:w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-500 mx-auto mt-6 rounded-full"></div>
        </div>

        <!-- Status Cards Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12 max-w-4xl mx-auto">
            <!-- Matérias Cursando -->
            <div class="stat-card bg-white rounded-2xl shadow-lg p-6 border border-gray-100 animate-scale-in" style="animation-delay: 0.1s">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-500 uppercase tracking-wide">Matérias Cursando</p>
                        <p class="text-3xl font-bold text-blue-600 mt-2"><%= qtdeMateriasDisponiveis %></p>
                    </div>
                    <div class="w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M19 19H5V5H19V19M17 17H7V15H17V17M17 13H7V11H17V13M17 9H7V7H17V9Z"/>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Progresso Geral -->
            <div class="stat-card bg-white rounded-2xl shadow-lg p-6 border border-gray-100 animate-scale-in" style="animation-delay: 0.2s">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-500 uppercase tracking-wide">Aulas Disponíveis</p>
                        <p class="text-3xl font-bold text-green-600 mt-2"><%= qtdeAulasDisponiveis %></p>
                    </div>
                    <div class="w-12 h-12 bg-gradient-to-br from-green-400 to-green-600 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z"/>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Próxima Atividade -->
            <div class="stat-card bg-white rounded-2xl shadow-lg p-6 border border-gray-100 animate-scale-in" style="animation-delay: 0.3s">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-500 uppercase tracking-wide">Aulas Concluidas</p>
                        <p class="text-3xl font-bold text-amber-600 mt-2"><%= qtdeAulasAssistidas %></p>
                    </div>
                    <div class="w-12 h-12 bg-gradient-to-br from-amber-400 to-amber-600 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z"/>
                        </svg>
                    </div>
                </div>
            </div>

        </div>

        <!-- Recent Activity Section -->
        <div class="max-w-6xl mx-auto">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center animate-fade-in-up" style="animation-delay: 0.4s">
                Atividade Recente
            </h2>
            
            <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100 animate-scale-in" style="animation-delay: 0.5s">
                <div class="space-y-4">
                    <!-- Activity Item 1 -->
                    <div class="flex items-center space-x-4 p-4 bg-blue-50 rounded-xl">
                        <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                            </svg>
                        </div>
                        <div class="flex-1"><a href="https://docs.google.com/forms/d/e/1FAIpQLSfrT7N2O9YUnHBRD3jLZ0LCdTN946qED1ffHhbfCR5f_nUkcA/viewform?usp=dialog" target="_blank">
                            <p class="font-medium text-gray-800">Questionário.</p>
                            <p class="text-sm text-gray-500">Clique Aqui para fazer.</p></a>
                        </div>
                        
                    </div>

                    <!-- Activity Item 2 -->
                    <div class="flex items-center space-x-4 p-4 bg-amber-50 rounded-xl">
                        <div class="w-10 h-10 bg-amber-500 rounded-full flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                            </svg>
                        </div>
                        <div class="flex-1">
							<a href="https://drive.google.com/file/d/1zH2Vf9Dta3NwJC44lzdhIc1rdWn073IT/view?usp=drive_link" target="_blank">
                            <p class="font-medium text-gray-800">Estatuto Bíblico</p>
                            <p class="text-sm text-gray-500">Clique aqui para ver.</p>
							</a>
                        </div>
                        
                    </div>

                </div>
            </div>
        </div>

        <!-- Footer Section -->
        <div class="text-center mt-16 animate-fade-in-up" style="animation-delay: 0.6s">
            <p class="text-gray-500 text-sm mb-2">
                "E disse-lhes: Ide por todo o mundo, pregai o evangelho a toda criatura."
            </p>
            <p class="text-gray-400 text-xs">
                Marcos 16:15 - Continue sua jornada de estudos teológicos
            </p>
        </div>
    </div>

    <script>
        // Mobile menu functionality
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebar-overlay');

        function toggleSidebar() {
            sidebar.classList.toggle('-translate-x-full');
            sidebarOverlay.classList.toggle('hidden');
        }

        mobileMenuBtn.addEventListener('click', toggleSidebar);
        sidebarOverlay.addEventListener('click', toggleSidebar);

        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768) {
                sidebar.classList.remove('-translate-x-full');
                sidebarOverlay.classList.add('hidden');
            }
        });

        // Dashboard Functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Animated counters for statistics
            const statNumbers = document.querySelectorAll('.stat-card .text-3xl');
            statNumbers.forEach((stat, index) => {
                const finalValue = stat.textContent;
                if (!isNaN(parseInt(finalValue))) {
                    let currentValue = 0;
                    const increment = parseInt(finalValue) / 20;
                    
                    setTimeout(() => {
                        const counter = setInterval(() => {
                            currentValue += increment;
                            if (currentValue >= parseInt(finalValue)) {
                                stat.textContent = finalValue;
                                clearInterval(counter);
                            } else {
                                stat.textContent = Math.floor(currentValue);
                            }
                        }, 50);
                    }, index * 200);
                }
            });
        });

        // Sidebar navigation functionality
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                const linkText = this.querySelector('span').textContent;
                
                // Handle specific actions based on clicked item
                if (linkText === 'Sair') {
                    if (confirm('Deseja realmente sair do sistema?')) {
                        //alert('🔐 Saindo do sistema IBADEJUF...\n\nObrigado por usar nosso sistema!');
                        // Aqui você poderia redirecionar para página de login
                        window.location.href = '/loginv2';
                    }
                    return; // Don't change active state for logout
                }
                
                // Remove active state from all links
                document.querySelectorAll('nav a').forEach(l => {
                    l.classList.remove('bg-blue-50', 'text-blue-600', 'border', 'border-blue-100', 'shadow-sm');
                    l.classList.add('text-gray-600', 'hover:bg-blue-50', 'hover:text-blue-600');
                });
                
                // Add active state to clicked link
                this.classList.remove('text-gray-600', 'hover:bg-blue-50', 'hover:text-blue-600');
                this.classList.add('bg-blue-50', 'text-blue-600', 'border', 'border-blue-100', 'shadow-sm');
                
                // Show specific alerts for each menu item
                switch(linkText) {
                    case 'Principal':
                        //alert('🏠 Navegando para PÁGINA PRINCIPAL\n\nVocê será redirecionado para o dashboard principal do sistema.');
						window.location.href = "/user/principal/<%= uid_usuario %>";
                        break;
                    case 'Matérias':
                        //alert('📚 Navegando para MATÉRIAS DISPONÍVEIS\n\nVocê verá todas as disciplinas teológicas disponíveis para estudo.');
						window.location.href = "/user/materias/<%= uid_usuario %>";
                        break;
                    case 'Dados Pessoais':
                        //alert('👤 Você já está na página DADOS PESSOAIS\n\nAqui você pode atualizar suas informações pessoais.');
						window.location.href = "/user/profile/<%= uid_usuario %>";
                        break;
					case 'Sair':
                        //alert('👤 Você já está na página DADOS PESSOAIS\n\nAqui você pode atualizar suas informações pessoais.');
						window.location.href = "/loginv2";
                        break;
                    default:
                        window.location.href = "/loginv2";
                }
            });
        });

        // Add hover effects to activity items
        document.querySelectorAll('[class*="bg-blue-50"], [class*="bg-amber-50"], [class*="bg-green-50"]').forEach(item => {
            item.addEventListener('mouseenter', function() {
                this.style.transform = 'translateX(4px)';
            });
            
            item.addEventListener('mouseleave', function() {
                this.style.transform = 'translateX(0)';
            });
        });

        // Welcome message on page load
        setTimeout(() => {
            const hour = new Date().getHours();
            let greeting;
            
            if (hour < 12) {
                greeting = 'Bom dia';
            } else if (hour < 18) {
                greeting = 'Boa tarde';
            } else {
                greeting = 'Boa noite';
            }
            
            console.log(`${greeting}, Manassés Hudson! Bem-vindo ao seu dashboard do IBADEJUF.`);
        }, 2000);
    </script>
</body>
</html>